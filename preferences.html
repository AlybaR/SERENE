<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Serene - Préférences</title>
  <link rel="stylesheet" href="style.css">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,500,700&display=swap" rel="stylesheet">
</head>
<body class="fade-in">
  <header>
    <nav>
      <ul>
        <li><a href="index.html">Accueil</a></li>
        <li><a href="preferences.html" class="active">Préférences</a></li>
        <li><a href="planning.html">Planification</a></li>
        <li><a href="saved-preferences.html">Mes Préférences</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
    </nav>
  </header>
  <main>
    <section class="section">
      <h2>Personnalisez vos recommandations</h2>
      <p>Indiquez vos préférences pour recevoir des suggestions adaptées à vos goûts et besoins.</p>
      <form id="voyage-form">
        <!-- Étape 1 : Informations de Base -->
        <div class="form-step" id="step-1">
          <h3>Informations de Base</h3>
          <div class="form-group">
            <label for="destination">Destination (Ville ou Pays) :</label>
            <input type="text" id="destination" name="destination" placeholder="Ex : Italie, Rome, Tokyo" required>
          </div>
          <div class="form-group">
            <label for="date-debut">Date de départ :</label>
            <input type="date" id="date-debut" name="date-debut" required>
          </div>
          <div class="form-group">
            <label for="date-fin">Date de retour :</label>
            <input type="date" id="date-fin" name="date-fin" required>
          </div>
          <button type="button" class="next-btn">Suivant</button>
        </div>
        <!-- Étape 2 : Vos Préférences -->
        <div class="form-step" id="step-2" style="display: none;">
          <h3>Vos Préférences</h3>
          <div class="form-group">
            <p>Durée du séjour :</p>
            <label><input type="radio" name="duree" value="court" required> Court (1-3 jours)</label>
            <label><input type="radio" name="duree" value="moyen"> Moyen (4-7 jours)</label>
            <label><input type="radio" name="duree" value="long"> Long (8+ jours)</label>
          </div>
          <div class="form-group">
            <p>Centres d'intérêt :</p>
            <label><input type="checkbox" name="interets" value="culture"> 🏛 Culture</label>
            <label><input type="checkbox" name="interets" value="nature"> 🌿 Nature</label>
            <label><input type="checkbox" name="interets" value="gastronomie"> 🍽 Gastronomie</label>
            <label><input type="checkbox" name="interets" value="aventure"> 🎢 Aventure</label>
          </div>
          <div class="form-group">
            <label for="budget">Budget global (en €) :</label>
            <input type="range" id="budget" name="budget" min="100" max="5000" step="50" value="1000"
                   oninput="document.getElementById('budget-affiche').textContent = this.value">
            <span id="budget-affiche">1000</span> €
          </div>
          <div class="form-group">
            <p>Moyens de transport préférés :</p>
            <label><input type="checkbox" name="transport" value="avion"> ✈️ Avion</label>
            <label><input type="checkbox" name="transport" value="train"> 🚄 Train</label>
            <label><input type="checkbox" name="transport" value="voiture"> 🚗 Voiture</label>
            <label><input type="checkbox" name="transport" value="transit"> 🚌 Transport en commun</label>
            <label><input type="checkbox" name="transport" value="marche"> 🚶 Marche</label>
          </div>
          <div class="form-group">
            <p>Notez l'importance de ces préférences :</p>
            <label for="preference-rating">Votre note (1 à 5) :</label>
            <select id="preference-rating" name="preference-rating">
              <option value="1">1 - Très faible</option>
              <option value="2">2 - Faible</option>
              <option value="3" selected>3 - Moyen</option>
              <option value="4">4 - Fort</option>
              <option value="5">5 - Très fort</option>
            </select>
          </div>
          <div class="button-group">
            <button type="button" class="back-btn">Précédent</button>
            <button type="submit" class="submit-btn">Envoyer</button>
          </div>
        </div>
      </form>
      <div id="loading" class="loading" style="display: none; text-align: center;">
        <div class="spinner"></div>
        <p>Traitement en cours...</p>
      </div>
      <div id="result-summary" style="display: none;">
        <h2>Résumé de vos Préférences</h2>
        <div id="summary-content"></div>
        <div id="map"></div>
        <div class="button-group">
          <button id="modify-btn">Modifier mes préférences</button>
          <button id="save-btn">Sauvegarder mes préférences</button>
        </div>
      </div>
    </section>
  </main>
  <footer>
    <p>&copy; 2025 Serene. Tous droits réservés.</p>
  </footer>
  <!-- Google Maps script avec clé API et callback -->
  <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAG53pbXfoMEK3cl-pWJE2gdEgjwsFpADU&libraries=places&callback=initMap" onerror="document.getElementById('map-error').style.display = 'block';"></script>
  <div id="map-error" style="display:none; color:red; text-align:center;">
    Impossible de charger Google Maps. Vérifiez votre clé API.
  </div>
  <script src="script.js"></script>
</body>
</html>
